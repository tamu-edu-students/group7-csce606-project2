<div class="board-container">

  <%# Flash messages %>
  <% if notice.present? %>
    <div class="board-message board-message--success"><%= notice %></div>
  <% end %>
  <% if alert.present? %>
    <div class="board-message board-message--error"><%= alert %></div>
  <% end %>

  <% content_for :title, "Teaching Offers" %>

  <h1 class="board-heading">TEACHING OFFERS BOARD</h1>
  <p class="board-subheading">Find a friend who can teach you something new.</p>

  <% if user_signed_in? %>
    <div class="board-search-section">
      <%= form_with(url: teaching_offers_path, method: :get, local: true, class: "board-search-form") do |form| %>
        <%= form.text_field :query, value: params[:query], placeholder: "Search by title or topic...", class: "board-search-input" %>
        <%= form.submit "Search", class: "board-search-button" %>
      <% end %>
      <%= link_to "Create a New Offer", new_teaching_offer_path, class: "board-create-btn" %>
    </div>
  <% else %>
    <p class="board-login-prompt">
      <%= link_to "Log in", new_user_session_path, class: "board-login-link" %> to search or create teaching offers.
    </p>
  <% end %>

  <% if params[:query].present? %>
    <h2 class="board-section-title">Search results for: "<%= params[:query] %>"</h2>
  <% else %>
    <h2 class="board-section-title">All Teaching Offers</h2>
  <% end %>

  <% if @teaching_offers.any? %>
    <ul class="board-offer-grid">
      <% @teaching_offers.each do |offer| %>
        <%= render partial: "teaching_offer", locals: { offer: offer } %>
      <% end %>
    </ul>
  <% else %>
    <p class="board-empty-message">No teaching offers found.</p>
  <% end %>

</div>
