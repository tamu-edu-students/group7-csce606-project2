
<div style="margin-bottom: 1rem;">
  <p>
    <strong>Email Notifications:</strong>
    <% if current_user.email_notifications? %>
      <span style="color: green;">Enabled ✅</span>
    <% else %>
      <span style="color: red;">Disabled ❌</span>
    <% end %>
  </p>

  <%= form_with model: current_user, url: toggle_email_notifications_path, method: :patch, local: true do |f| %>
    <label>
      <%= f.check_box :email_notifications, checked: current_user.email_notifications %>
      Receive email notifications
    </label>
    <%= f.submit "Update", class: "btn btn-sm btn-primary" %>
  <% end %>
</div>

<h1>Notifications#index</h1>

<% if @notifications.any? %>
  <ul>
    <% @notifications.each_with_index do |notification, index| %>
      <li class="<%= 'unread' if index < @unread_count %>">
        <strong><%= notification.created_at.strftime("%Y-%m-%d %H:%M") %>:</strong>
        <%= link_to notification.message, notification.url %>
      </li>
    <% end %>
  </ul>
<% else %>
  <p>No notifications yet.</p>
<% end %>
